<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Edit/Add Hall â€” PheraSpace</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:"Inter",sans-serif;
  background:#0a0c1f;
  color:#e8f0ff;
  padding:20px;
}
.container{
  max-width:600px;
  margin:auto;
  background:rgba(255,255,255,0.08);
  padding:25px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.1);
}
h2{
  text-align:center;
  color:#26ffd9;
}
label{
  display:block;
  margin-top:10px;
  font-weight:600;
}
input,textarea{
  width:100%;
  padding:10px;
  border:none;
  border-radius:8px;
  margin-top:5px;
  background:rgba(255,255,255,0.1);
  color:#e8f0ff;
  outline:none;
}
button{
  margin-top:20px;
  padding:12px 18px;
  border:none;
  border-radius:8px;
  background:linear-gradient(90deg,#ff7ce9,#26ffd9);
  color:#111;
  font-weight:700;
  cursor:pointer;
}
</style>
</head>
<body>
<div class="container">
  <h2 id="title">Edit Hall</h2>

  <label>Hall Name</label>
  <input type="text" id="name" placeholder="Enter hall name" required>

  <label>Location</label>
  <input type="text" id="location" placeholder="Enter location" required>

  <label>Capacity</label>
  <input type="number" id="capacity" placeholder="Enter capacity" required>

  <label>Price (in â‚¹)</label>
  <input type="number" id="price" placeholder="Enter price" required>

  <label>Amenities (comma-separated)</label>
  <input type="text" id="amenities" placeholder="e.g. AC, Parking, Wi-Fi">

  <button onclick="saveHall()">ðŸ’¾ Save Hall</button>
  <button onclick="goBack()" style="margin-left:10px;">â¬… Back</button>
</div>

<script>
let halls = JSON.parse(localStorage.getItem("ownerHalls") || "[]");
let editID = localStorage.getItem("editHallID");
let hall = null;

if (editID) {
  hall = halls.find(h => h.id == editID);
  if (hall) {
    document.getElementById("title").innerText = "Edit Hall";
    document.getElementById("name").value = hall.name;
    document.getElementById("location").value = hall.location;
    document.getElementById("capacity").value = hall.capacity;
    document.getElementById("price").value = hall.price;
    document.getElementById("amenities").value = hall.amenities ? hall.amenities.join(", ") : "";
  }
} else {
  document.getElementById("title").innerText = "Add New Hall";
}

function saveHall() {
  const name = document.getElementById("name").value.trim();
  const location = document.getElementById("location").value.trim();
  const capacity = parseInt(document.getElementById("capacity").value.trim());
  const price = parseInt(document.getElementById("price").value.trim());
  const amenities = document.getElementById("amenities").value.split(",").map(a => a.trim()).filter(a => a);

  if (!name || !location || !capacity || !price) {
    alert("Please fill all required fields!");
    return;
  }

  if (hall) {
    // Update existing hall
    hall.name = name;
    hall.location = location;
    hall.capacity = capacity;
    hall.price = price;
    hall.amenities = amenities;
  } else {
    // Add new hall
    const newHall = {
      id: Date.now(),
      name,
      location,
      capacity,
      price,
      amenities
    };
    halls.push(newHall);
  }

  localStorage.setItem("ownerHalls", JSON.stringify(halls));
  alert("Hall details saved successfully!");
  window.location.href = "owner-manage-halls.html";
}

function goBack() {
  window.location.href = "owner-manage-halls.html";
}
</script>
</body>
</html>
