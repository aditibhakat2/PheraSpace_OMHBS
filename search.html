<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PheraSpace ‚Äî Search Halls</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg1: #090d1a;
  --bg2: #180a2c;
  --pink: #ff7ce9;
  --aqua: #26ffd9;
  --text: #e8f0ff;
  --muted: #9faac7;
  --radius: 14px;
}

body {
  margin: 0;
  padding: 20px;
  font-family: "Inter", sans-serif;
  background: linear-gradient(135deg, var(--bg1), var(--bg2));
  color: var(--text);
}

h1 {
  text-align: center;
  background: linear-gradient(90deg, var(--pink), var(--aqua));
  -webkit-background-clip: text;
  color: transparent;
  margin-bottom: 15px;
}

.top-bar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  max-width:900px;
  margin:0 auto 15px auto;
}
.top-bar button {
  background:linear-gradient(90deg,var(--pink),var(--aqua));
  color:#111;
  border:none;
  border-radius:var(--radius);
  padding:10px 18px;
  font-weight:700;
  cursor:pointer;
}
.top-bar button:hover { transform:scale(1.05); }

.filters, .sort-bar {
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  margin:15px auto;
  background:rgba(255,255,255,0.05);
  padding:15px;
  border-radius:var(--radius);
  max-width:900px;
}

input, select {
  padding:10px;
  border-radius:var(--radius);
  border:none;
  background:rgba(255,255,255,0.1);
  color:var(--text);
}

select option {
  background:#120f20;
  color:#fff;
}

.grid {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(270px, 1fr));
  gap:20px;
}

.card {
  background:rgba(255,255,255,0.08);
  padding:15px;
  border-radius:var(--radius);
  border:1px solid rgba(255,255,255,0.1);
  position:relative;
  transition:0.2s;
}
.card:hover { transform:scale(1.02); }

.card img {
  width:100%;
  height:170px;
  object-fit:cover;
  border-radius:var(--radius);
}

.btn {
  margin-top:8px;
  width:100%;
  padding:10px;
  border:none;
  border-radius:var(--radius);
  background:linear-gradient(90deg,var(--pink),var(--aqua));
  color:#111;
  font-weight:700;
  cursor:pointer;
}

.heart {
  position:absolute;
  top:10px;
  right:10px;
  font-size:22px;
  color:#ccc;
  cursor:pointer;
}

.heart.active { color:#ff7ce9; }
</style>
</head>

<body>

<div class="top-bar">
  <h1>üîç Search Marriage Halls</h1>
  <button onclick="location.href='user-dashboard.html'">‚¨Ö Back</button>
</div>

<div class="filters">
  <select id="city">
    <option value="">Select City</option>
    <option value="Delhi">Delhi</option>
    <option value="Mumbai">Mumbai</option>
    <option value="Chennai">Chennai</option>
    <option value="Kolkata">Kolkata</option>
    <option value="Pune">Pune</option>
  </select>
  <input type="number" id="guests" placeholder="Guest count">
  <input type="number" id="budget" placeholder="Max Budget ‚Çπ">
  <button onclick="applyFilters()">Apply</button>
  <button onclick="clearFilters()">Reset</button>
</div>

<div class="sort-bar">
  <select id="sort" onchange="applySort()">
    <option value="">Sort By</option>
    <option value="ratingHigh">Rating High ‚Üí Low</option>
    <option value="ratingLow">Rating Low ‚Üí High</option>
    <option value="priceHigh">Price High ‚Üí Low</option>
    <option value="priceLow">Price Low ‚Üí High</option>
  </select>
  <button class="toggle-btn" onclick="toggleWishlistView()" id="wishlistToggle">‚ù§Ô∏è Wishlist Only</button>
</div>

<div class="grid" id="hallGrid"></div>

<script>
// ORIGINAL SIMPLE HALL DATA
const halls = [
  {id:0,name:"Royal Palace Banquet",city:"Delhi",guests:500,price:95000,rating:4.8,amenities:["AC","Parking","Catering"],image:"image/hall1.jpg"},
  {id:1,name:"Paradise Banquet",city:"Delhi",guests:450,price:90000,rating:4.6,amenities:["DJ","Decoration"],image:"image/hall2.webp"},
  {id:2,name:"Golden Venue Hall",city:"Mumbai",guests:400,price:85000,rating:4.5,amenities:["Stage","Wi-Fi"],image:"image/hall3.webp"},
  {id:3,name:"Sunshine Palace",city:"Mumbai",guests:600,price:120000,rating:4.6,amenities:["Parking","AC"],image:"image/hall4.jpg"},
  {id:4,name:"Sapphire Lawn",city:"Pune",guests:300,price:60000,rating:4.1,amenities:["Garden","Parking"],image:"image/hall5.jpeg"},
  {id:5,name:"Dreamy Wed Hall",city:"Pune",guests:420,price:75000,rating:4.4,amenities:["Lighting","Catering"],image:"image/hall6.jpg"},
  {id:6,name:"Lotus Banquet",city:"Kolkata",guests:450,price:80000,rating:4.7,amenities:["Decoration"],image:"image/hall7.jpg"},
  {id:7,name:"Grand Vivah",city:"Kolkata",guests:550,price:100000,rating:4.9,amenities:["DJ","Stage"],image:"image/hall8.jpg"}
];

localStorage.setItem("allHalls", JSON.stringify(halls));

let wishlist = JSON.parse(localStorage.getItem("wishlist")||"[]");
let filtered = [...halls];
let wishlistView = false;

function loadHalls(list){
  const grid = document.getElementById("hallGrid");
  grid.innerHTML = "";

  list.forEach(h => {
    const isFav = wishlist.some(w => w.id===h.id) ? "active" : "";

    grid.innerHTML += `
      <div class="card">
        <span class="heart ${isFav}" onclick="toggleWishlist(${h.id}, this)">‚ô•</span>
        <img src="${h.image}">
        <h3>${h.name}</h3>
        <p>üìç ${h.city}</p>
        <p>üë• ${h.guests}</p>
        <p>üí∞ ‚Çπ${h.price.toLocaleString()}</p>
        <p>‚≠ê ${h.rating}</p>
        <button class="btn" onclick="viewDetails(${h.id})">View Details</button>
      </div>`;
  });
}

loadHalls(halls);

function viewDetails(id){
  location.href = "hall-details.html?id="+id;
}

function toggleWishlist(id, el){
  const hall = halls.find(h => h.id===id);
  const index = wishlist.findIndex(w => w.id===id);

  if(index>-1){ wishlist.splice(index,1); el.classList.remove("active"); }
  else { wishlist.push(hall); el.classList.add("active"); }

  localStorage.setItem("wishlist", JSON.stringify(wishlist));
  if(wishlistView) loadHalls(wishlist);
}

function toggleWishlistView(){
  wishlistView = !wishlistView;
  const btn = document.getElementById("wishlistToggle");
  btn.classList.toggle("active");

  loadHalls(wishlistView ? wishlist : filtered);
}

function applyFilters(){
  const city=document.getElementById("city").value;
  const guests=parseInt(document.getElementById("guests").value);
  const budget=parseInt(document.getElementById("budget").value);

  filtered=halls.filter(h =>
    (!city || h.city===city) &&
    (!guests || h.guests>=guests) &&
    (!budget || h.price<=budget)
  );

  loadHalls(filtered);
}

function clearFilters(){
  document.getElementById("city").value="";
  document.getElementById("guests").value="";
  document.getElementById("budget").value="";
  document.getElementById("sort").value="";
  filtered=[...halls];
  loadHalls(filtered);
}

function applySort(){
  const sort=document.getElementById("sort").value;
  let list=[...filtered];

  if(sort==="ratingHigh") list.sort((a,b)=>b.rating-a.rating);
  if(sort==="ratingLow") list.sort((a,b)=>a.rating-b.rating);
  if(sort==="priceHigh") list.sort((a,b)=>b.price-a.price);
  if(sort==="priceLow") list.sort((a,b)=>a.price-b.price);

  loadHalls(list);
}
</script>

</body>
</html>
